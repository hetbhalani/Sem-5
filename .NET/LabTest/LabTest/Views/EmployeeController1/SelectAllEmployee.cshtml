@using System.Data
@model DataTable

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container mt-4">
    <h2 class="mb-4 text-center">Employee Table</h2>

    <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>Employee ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>DOB</th>
                <th>Gender</th>
                <th>Hire Date</th>
                <th>Job Title</th>
                <th>Department</th>
                <th>Salary</th>
                <th>Status</th>
                <th>Created At</th>
                <th>Updated At</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (DataRow dr in Model.Rows)
            {
                <tr>
                    <td>@dr["EmployeeId"]</td>
                    <td>@dr["FirstName"]</td>
                    <td>@dr["LastName"]</td>
                    <td>@dr["Email"]</td>
                    <td>@dr["PhoneNumber"]</td>
                    <td>@(dr["DateOfBirth"] == DBNull.Value ? "" : Convert.ToDateTime(dr["DateOfBirth"]).ToString("yyyy-MM-dd"))</td>
                    <td>@dr["Gender"]</td>
                    <td>@Convert.ToDateTime(dr["HireDate"]).ToString("yyyy-MM-dd")</td>
                    <td>@dr["JobTitle"]</td>
                    <td>@dr["Department"]</td>
                    <td>@dr["Salary"]</td>
                    <td>
                        <span class="badge @(Convert.ToBoolean(dr["IsActive"]) ? "bg-success" : "bg-danger")">
                            @(Convert.ToBoolean(dr["IsActive"]) ? "Active" : "Inactive")
                        </span>
                    </td>
                    <td>@Convert.ToDateTime(dr["CreatedAt"]).ToString("yyyy-MM-dd HH:mm")</td>
                    <td>@(dr["UpdatedAt"] == DBNull.Value ? "" : Convert.ToDateTime(dr["UpdatedAt"]).ToString("yyyy-MM-dd HH:mm"))</td>
                    <td>
                        <a href="/EmployeeController1/DeleteEmployee?EmpId=@dr["EmployeeId"]" class="btn btn-sm btn-danger">
                            Delete
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
